<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Emacs, on Noonker</title><link>https://noonker.github.io/tags/emacs/</link><description>Recent content in Emacs, on Noonker</description><generator>Hugo</generator><language>en</language><lastBuildDate>Thu, 31 Dec 2020 00:00:00 +0000</lastBuildDate><atom:link href="https://noonker.github.io/tags/emacs/index.xml" rel="self" type="application/rss+xml"/><item><title>Using Org-Mode to Manage Configs</title><link>https://noonker.github.io/posts/2020-12-31-org-config-manager/</link><pubDate>Thu, 31 Dec 2020 00:00:00 +0000</pubDate><guid>https://noonker.github.io/posts/2020-12-31-org-config-manager/</guid><description>&lt;p>
I&amp;#39;ve just started to use Org-Mode as a way to manage my configs. Previously I&amp;#39;ve kept my configs in a git repo and just had a post-install script to put all the configs in the right place.&lt;/p>
&lt;p>
For now, I&amp;#39;m testing using Org-Mode for this purpose and I think I like the results.&lt;/p>
&lt;p>
I have a config.org file that is arranged something like this:&lt;/p>
&lt;div class="src src-org">
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-org" data-lang="org">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#+TITLE&lt;/span>&lt;span style="color:#75715e">: Configs&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">- &lt;/span>Tangle a single block with &lt;span style="color:#a6e22e">=C-u C-c C-v t=&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">- &lt;/span>Tangle all blocks with &lt;span style="color:#a6e22e">=C-v C-c t=&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#+name&lt;/span>&lt;span style="color:#75715e">: secret&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#+begin_src &lt;/span>&lt;span style="color:#75715e">emacs-lisp&lt;/span>&lt;span style="color:#75715e"> :var name=&amp;#34;&amp;#34;, fld=&amp;#34;&amp;#34;
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>(if (&lt;span style="color:#a6e22e">string-equal&lt;/span> fld &lt;span style="color:#e6db74">&amp;#34;password&amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> (password-store-get name)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> (password-store-get-field name fld))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#+end_src&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>*&lt;span style="font-weight:bold"> tmux&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#+begin_src &lt;/span>&lt;span style="color:#75715e">bash&lt;/span>&lt;span style="color:#75715e"> :noweb tangle :tangle ~/.tmux.conf
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>&lt;span style="color:#75715e"># start window numbering at 1 for easier switching&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>set -g base-index &lt;span style="color:#ae81ff">1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># colors&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>set -g default-terminal &lt;span style="color:#e6db74">&amp;#34;screen-256color&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># Need that longer tmux display time&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>set -g display-panes-time &lt;span style="color:#ae81ff">2000&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># status bar config&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>set -g status-left &lt;span style="color:#e6db74">&amp;#34;#h:[#S]&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>set -g status-left-length &lt;span style="color:#ae81ff">50&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>set -g status-right-length &lt;span style="color:#ae81ff">100&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">if&lt;/span>-shell &lt;span style="color:#e6db74">&amp;#34;uname | grep -q Darwin&amp;#34;&lt;/span> &lt;span style="color:#e6db74">&amp;#34;set -g status-right \&amp;#34;#[fg=white] ⚡#[fg=yellow] #(battery) #[fg=white][✉#(curl icanhazip.com)] %H:%M %d-%h-%Y\&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>setw -g window-status-current-format &lt;span style="color:#e6db74">&amp;#34;|#I:#W|&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>...
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#+end_src&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>*&lt;span style="font-weight:bold"> mopidy&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#+begin_src &lt;/span>&lt;span style="color:#75715e">conf&lt;/span>&lt;span style="color:#75715e"> :noweb tangle :tangle ~/.config/mopidy/mopidy.conf
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">&lt;/span>[mpd]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>enabled = true
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>hostname = 127.0.0.1
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>port = 6600
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>password =
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>max_connections = 20
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>connection_timeout = 60
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>zeroconf = Mopidy MPD server on $hostname
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>[gmusic]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>username = &amp;lt;&amp;lt;secret(&amp;#34;Internet/mopidy&amp;#34;, &amp;#34;Username&amp;#34;)&amp;gt;&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>password = &amp;lt;&amp;lt;secret(&amp;#34;Internet/mopidy&amp;#34;, &amp;#34;password&amp;#34;)&amp;gt;&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>bitrate = 320
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>all_access = true
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>radio_stations_in_browse = true
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>radio_stations_as_playlists = true
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>refresh_token = &amp;lt;&amp;lt;secret(&amp;#34;Internet/mopidy&amp;#34;, &amp;#34;RefreshToken&amp;#34;)&amp;gt;&amp;gt;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#+end_src&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">**&lt;/span> etc...&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>
&lt;/div>
&lt;div id="outline-container-headline-1" class="outline-2">
&lt;h2 id="headline-1">
What&amp;#39;s going on here?
&lt;/h2>
&lt;div id="outline-text-headline-1" class="outline-text-2">
&lt;p>
Firstly I have some hints at the top of my file to remind of of the hotkeys I need to use to manage my configs&lt;/p></description></item></channel></rss>